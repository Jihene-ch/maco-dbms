CREATE PROCEDURE `personAddorEdit`(IN `_personID` INT, IN `_personTypeID` INT, IN `_lastName` VARCHAR(255), IN `_firstname` VARCHAR(255), IN `_email` VARCHAR(255), IN `_password` VARCHAR(255), IN `_status` BIT) NOT DETERMINISTIC CONTAINS SQL SQL SECURITY DEFINER BEGIN IF _personID=0 THEN INSERT INTO person(lastName,firstName,email,password,status) VALUES (_lastName,_firstName,_email,_password,_status); SET _personID = LAST_INSERT_ID(); ELSE UPDATE person SET lastName = _lastName, firstName =_firstName, email = _email, password = _password, status = _status WHERE _personID = _personId; END IF; SELECT _personID AS 'personID'; END;
